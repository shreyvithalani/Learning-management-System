// Compiled by ClojureScript 0.0-2173
goog.provide('lms.cljs.register');
goog.require('cljs.core');
goog.require('goog.dom.forms');
goog.require('goog.net.XhrIo');
goog.require('goog.net.XhrIo');
goog.require('domina');
goog.require('domina.events');
goog.require('domina.events');
goog.require('goog.dom.forms');
goog.require('cljs.reader');
goog.require('cljs.reader');
goog.require('domina');
lms.cljs.register.user_id = "user-id";
lms.cljs.register.pass_id = "pass-id";
lms.cljs.register.user_result = "user-result";
lms.cljs.register.pass_result = "pass-result";
lms.cljs.register.button_id = "submit-button-id";
lms.cljs.register.register_result = "register-result";
lms.cljs.register.user_url = "/register/eval-user";
lms.cljs.register.pass_url = "/register/eval-pass";
lms.cljs.register.register_url = "register/add-user";
lms.cljs.register.serialize = (function serialize(m){return [cljs.core.str(m)].join('');
});
lms.cljs.register.de_serialize = (function de_serialize(s){return cljs.reader.read_string(s);
});
lms.cljs.register.set_user_result = (function set_user_result(event){return domina.set_text_BANG_(domina.by_id(lms.cljs.register.user_result),event.target.getResponseText());
});
lms.cljs.register.set_pass_result = (function set_pass_result(event){return domina.set_text_BANG_(domina.by_id(lms.cljs.register.pass_result),event.target.getResponseText());
});
lms.cljs.register.set_register_result = (function set_register_result(event){return domina.set_text_BANG_(domina.by_id(lms.cljs.register.register_result),event.target.getResponseText());
});
lms.cljs.register.callbackfn = (function callbackfn(event){return null;
});
lms.cljs.register.post_for_userCheck = (function post_for_userCheck(user_str){return goog.net.XhrIo.send(lms.cljs.register.user_url,lms.cljs.register.set_user_result,"POST",user_str);
});
lms.cljs.register.post_for_passCheck = (function post_for_passCheck(pass_str){return goog.net.XhrIo.send(lms.cljs.register.pass_url,lms.cljs.register.set_pass_result,"POST",pass_str);
});
lms.cljs.register.post_for_register = (function post_for_register(register_data){return goog.net.XhrIo.send(lms.cljs.register.register_url,lms.cljs.register.set_register_result,"POST",register_data);
});
lms.cljs.register.get_userText = (function get_userText(){var username = domina.by_id(lms.cljs.register.user_id).value;return lms.cljs.register.serialize(cljs.core.with_meta(new cljs.core.PersistentArrayMap(null, 1, [cljs.core.constant$keyword$26,username], null),new cljs.core.PersistentArrayMap(null, 1, [cljs.core.constant$keyword$6,"/Users/shreyvithalani/Desktop/lms-gradesheet/src/lms/cljs/register.cljs"], null)));
});
lms.cljs.register.get_passText = (function get_passText(){var password = domina.by_id(lms.cljs.register.pass_id).value;return lms.cljs.register.serialize(cljs.core.with_meta(new cljs.core.PersistentArrayMap(null, 1, [cljs.core.constant$keyword$27,password], null),new cljs.core.PersistentArrayMap(null, 1, [cljs.core.constant$keyword$6,"/Users/shreyvithalani/Desktop/lms-gradesheet/src/lms/cljs/register.cljs"], null)));
});
lms.cljs.register.get_form = (function get_form(){var username = domina.by_id(lms.cljs.register.user_id).value;var password = domina.by_id(lms.cljs.register.pass_id).value;return lms.cljs.register.serialize(cljs.core.with_meta(new cljs.core.PersistentArrayMap(null, 2, [cljs.core.constant$keyword$26,username,cljs.core.constant$keyword$27,password], null),new cljs.core.PersistentArrayMap(null, 1, [cljs.core.constant$keyword$6,"/Users/shreyvithalani/Desktop/lms-gradesheet/src/lms/cljs/register.cljs"], null)));
});
lms.cljs.register.main = (function main(){domina.events.listen_BANG_.cljs$core$IFn$_invoke$arity$3(domina.by_id(lms.cljs.register.user_id),cljs.core.constant$keyword$28,(function (event){lms.cljs.register.post_for_userCheck(lms.cljs.register.get_userText());
domina.events.stop_propagation(event);
return domina.events.prevent_default(event);
}));
domina.events.listen_BANG_.cljs$core$IFn$_invoke$arity$3(domina.by_id(lms.cljs.register.pass_id),cljs.core.constant$keyword$28,(function (event){lms.cljs.register.post_for_passCheck(lms.cljs.register.get_passText());
domina.events.stop_propagation(event);
return domina.events.prevent_default(event);
}));
return domina.events.listen_BANG_.cljs$core$IFn$_invoke$arity$3(domina.by_id(lms.cljs.register.button_id),cljs.core.constant$keyword$25,(function (event){return lms.cljs.register.post_for_register(lms.cljs.register.get_form());
}));
});
goog.exportSymbol('lms.cljs.register.main', lms.cljs.register.main);
